// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ============================================================================
// ENUMS
// ============================================================================

enum CustomerStatus {
  ACTIVE
  INACTIVE
  BLOCKED
}

enum CustomerLevel {
  BRONZE
  SILVER
  GOLD
  PLATINUM
}

enum AddressType {
  HOME
  WORK
  OTHER
}

enum ProductStatus {
  ACTIVE
  INACTIVE
  OUT_OF_STOCK
  DISCONTINUED
}

enum OfferType {
  DIA
  SEMANA
  MES
}

enum ServiceStatus {
  ACTIVE
  INACTIVE
}

enum OrderStatus {
  PENDING
  CONFIRMED
  IN_PRODUCTION
  PREPARING
  SHIPPED
  DELIVERED
  CANCELLED
}

enum OrderSource {
  WEB
  APP
  PHONE
}

enum OrderItemType {
  PRODUCT
  SERVICE
}

enum AdminRole {
  SUPER_ADMIN
  ADMIN
  MANAGER
  STAFF
}

enum AdminStatus {
  ACTIVE
  INACTIVE
  SUSPENDED
}

enum QuoteStatus {
  PENDING
  ANALYZING
  QUOTED
  APPROVED
  REJECTED
}

enum NotificationType {
  NEW_QUOTE_REQUEST
  QUOTE_RESPONDED
  QUOTE_APPROVED
  QUOTE_REJECTED
  ORDER_STATUS_UPDATED
  ORDER_CREATED
}

enum NotificationRecipientType {
  ADMIN
  CUSTOMER
}

enum TicketStatus {
  OPEN
  IN_PROGRESS
  WAITING_CUSTOMER
  WAITING_SUPPORT
  RESOLVED
  CLOSED
}

enum TicketPriority {
  LOW
  MEDIUM
  HIGH
  URGENT
}

enum TicketCategory {
  ORDER_ISSUE
  PRODUCT_QUESTION
  PAYMENT_ISSUE
  DELIVERY_ISSUE
  REVISION_QUESTION
  TECHNICAL_SUPPORT
  SUGGESTION
  COMPLAINT
  OTHER
}

// ============================================================================
// MODELS - FASE 1
// ============================================================================

model Admin {
  id          String      @id @default(uuid())
  email       String      @unique
  password    String
  name        String
  role        AdminRole   @default(STAFF)
  status      AdminStatus @default(ACTIVE)
  permissions Json?       // Array de permiss√µes customizadas
  preferences Json?       // Prefer√™ncias do usu√°rio (notifica√ß√µes, tema, etc.)

  // Timestamps
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt
  lastLoginAt DateTime?

  // Relations
  assignedRevisions Revision[]
  auditLogs        AuditLog[]
  assignedTickets  SupportTicket[]

  @@index([email])
  @@index([role])
  @@index([status])
  @@map("admins")
}

model AuditLog {
  id         String   @id @default(uuid())
  adminId    String
  admin      Admin    @relation(fields: [adminId], references: [id], onDelete: Cascade)
  action     String   // CREATE, UPDATE, DELETE, ASSIGN, etc
  resource   String   // Revision, Order, Product, etc
  resourceId String?
  changes    Json?    // Antes/depois
  ipAddress  String?
  userAgent  String?
  createdAt  DateTime @default(now())

  @@index([adminId])
  @@index([resource, resourceId])
  @@index([createdAt])
  @@map("audit_logs")
}

model Customer {
  id          String         @id @default(uuid())
  email       String         @unique
  password    String
  name        String
  phone       String
  cpf         String?        @unique
  birthDate   DateTime?
  status      CustomerStatus @default(ACTIVE)
  level       CustomerLevel  @default(BRONZE)
  totalOrders Int            @default(0)
  totalSpent  Decimal        @default(0) @db.Decimal(10, 2)

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  lastLoginAt DateTime?

  // Relations
  addresses Address[]
  orders    Order[]
  favorites Favorite[]
  vehicles  CustomerVehicle[]
  revisions Revision[]
  supportTickets SupportTicket[]

  @@index([email])
  @@index([cpf])
  @@index([status])
  @@index([level])
  @@index([createdAt])
  @@map("customers")
}

model Address {
  id           String      @id @default(uuid())
  customerId   String
  type         AddressType @default(HOME)
  street       String
  number       String
  complement   String?
  neighborhood String
  city         String
  state        String      @db.Char(2)
  zipCode      String      @db.Char(8)
  isDefault    Boolean     @default(false)

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  customer Customer @relation(fields: [customerId], references: [id], onDelete: Cascade)
  orders   Order[]  // Rela√ß√£o reversa para pedidos

  @@index([customerId])
  @@index([zipCode])
  @@map("addresses")
}

// ============================================================================
// MODELS - FASE 2: PRODUTOS, SERVI√áOS E VE√çCULOS
// ============================================================================

// Produtos
model Product {
  id             String        @id @default(uuid())
  name           String
  description    String        @db.Text
  category       String
  subcategory    String?
  sku            String        @unique
  supplier       String
  costPrice      Decimal       @db.Decimal(10, 2)
  salePrice      Decimal       @db.Decimal(10, 2)
  promoPrice     Decimal?      @db.Decimal(10, 2)
  stock          Int           @default(0)
  minStock       Int           @default(5)
  images         Json // Array de URLs
  specifications Json? // Especifica√ß√µes t√©cnicas estruturadas
  status         ProductStatus @default(ACTIVE)

  // Ofertas (Dia/Semana/M√™s)
  offerType      OfferType?
  offerStartDate DateTime?
  offerEndDate   DateTime?
  offerBadge     String? // Ex: "LIMITADO", "QUEIMA DE ESTOQUE"

  // SEO
  slug            String  @unique
  metaDescription String?
  metaKeywords    String?

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  vehicleCompatibility ProductVehicleCompatibility[]

  @@index([category])
  @@index([status])
  @@index([sku])
  @@index([slug])
  @@index([offerType, offerStartDate, offerEndDate])
  @@map("products")
}

// Servi√ßos
model Service {
  id             String        @id @default(uuid())
  name           String
  description    String        @db.Text
  category       String
  estimatedTime  String // Ex: "2 horas"
  basePrice      Decimal?      @db.Decimal(10, 2)
  specifications Json?
  status         ServiceStatus @default(ACTIVE)

  // SEO
  slug            String  @unique
  metaDescription String?

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([category])
  @@index([status])
  @@index([slug])
  @@map("services")
}

// Marcas de Ve√≠culos
model VehicleMake {
  id      String  @id @default(uuid())
  name    String  @unique
  country String
  logo    String?
  active  Boolean @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  models VehicleModel[]

  @@index([name])
  @@map("vehicle_makes")
}

// Modelos de Ve√≠culos
model VehicleModel {
  id        String  @id @default(uuid())
  makeId    String
  name      String
  segment   String // mini, hatch, sedan, suv, etc.
  bodyType  String // 2-door, 4-door, etc.
  fuelTypes Json // Array de tipos de combust√≠vel
  active    Boolean @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  make     VehicleMake      @relation(fields: [makeId], references: [id], onDelete: Cascade)
  variants VehicleVariant[]

  @@index([makeId])
  @@index([segment])
  @@map("vehicle_models")
}

// Variantes de Ve√≠culos
model VehicleVariant {
  id             String  @id @default(uuid())
  modelId        String
  name           String
  engineInfo     Json // Informa√ß√µes do motor
  transmission   String
  yearStart      Int
  yearEnd        Int?
  specifications Json // Especifica√ß√µes t√©cnicas
  active         Boolean @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  model VehicleModel @relation(fields: [modelId], references: [id], onDelete: Cascade)

  @@index([modelId])
  @@index([yearStart])
  @@index([yearEnd])
  @@map("vehicle_variants")
}

// Compatibilidade Produto-Ve√≠culo
model ProductVehicleCompatibility {
  id                String  @id @default(uuid())
  productId         String
  makeId            String?
  modelId           String?
  variantId         String?
  yearStart         Int?
  yearEnd           Int?
  compatibilityData Json // Regras detalhadas de compatibilidade
  verified          Boolean @default(false)
  notes             String? @db.Text

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  product Product @relation(fields: [productId], references: [id], onDelete: Cascade)

  @@index([productId])
  @@index([makeId])
  @@index([modelId])
  @@map("product_vehicle_compatibility")
}

// ============================================================================
// MODELS - FASE 3: PEDIDOS, PROMO√á√ïES E CUPONS
// ============================================================================

// Pedidos
model Order {
  id          String      @id @default(uuid())
  customerId  String
  addressId   String
  status      OrderStatus @default(PENDING)
  source      OrderSource @default(WEB)
  hasProducts Boolean     @default(false)
  hasServices Boolean     @default(false)

  // Campos de Or√ßamento (Quote)
  quoteStatus     QuoteStatus? // Status do or√ßamento se hasServices = true
  quotedAt        DateTime?    // Quando o or√ßamento foi enviado ao cliente
  quoteApprovedAt DateTime?    // Quando o cliente aprovou o or√ßamento
  quoteNotes      String?      @db.Text // Observa√ß√µes do or√ßamento

  // Valores
  subtotal       Decimal @db.Decimal(10, 2)
  discountAmount Decimal @default(0) @db.Decimal(10, 2)
  total          Decimal @db.Decimal(10, 2)

  // Pagamento e Entrega
  paymentMethod     String
  trackingCode      String?
  estimatedDelivery DateTime?
  deliveredAt       DateTime?

  // Cupom/Promo√ß√£o
  couponCode        String?
  appliedPromotions Json? // Array de IDs de promo√ß√µes aplicadas

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  cancelledAt DateTime?

  // Relations
  customer Customer    @relation(fields: [customerId], references: [id])
  address  Address     @relation(fields: [addressId], references: [id])
  items    OrderItem[]

  @@index([customerId])
  @@index([addressId])
  @@index([status])
  @@index([quoteStatus])
  @@index([createdAt])
  @@map("orders")
}

// Itens do Pedido
model OrderItem {
  id        String        @id @default(uuid())
  orderId   String
  productId String?
  serviceId String?
  type      OrderItemType
  name      String
  price     Decimal       @default(0) @db.Decimal(10, 2)
  quantity  Int
  subtotal  Decimal       @default(0) @db.Decimal(10, 2)

  // Campos de Cota√ß√£o (para servi√ßos)
  priceQuoted Boolean   @default(false) // Se o pre√ßo foi cotado
  quotedPrice Decimal?  @db.Decimal(10, 2) // Pre√ßo cotado pelo lojista
  quotedAt    DateTime? // Quando foi cotado

  createdAt DateTime @default(now())

  // Relations
  order Order @relation(fields: [orderId], references: [id], onDelete: Cascade)

  @@index([orderId])
  @@index([productId])
  @@index([serviceId])
  @@map("order_items")
}

// Promo√ß√µes
model Promotion {
  id               String  @id @default(uuid())
  name             String
  description      String  @db.Text
  shortDescription String?
  bannerImage      String?
  badgeText        String?

  // Configura√ß√£o
  type    String // PERCENTAGE, FIXED, etc.
  target  String // ALL_PRODUCTS, SPECIFIC_PRODUCTS, etc.
  trigger String // CART_VALUE, ITEM_QUANTITY, etc.

  // Segmenta√ß√£o
  customerSegments       Json // Array de segmentos
  geographicRestrictions Json?
  deviceTypes            Json?

  // Regras
  rules Json? @default("[]") // Array de regras complexas
  tiers Json? // Descontos escalonados

  // Produtos alvo
  targetProductIds  Json?
  targetCategories  Json?
  targetBrands      Json?
  targetPriceRange  Json?
  excludeProductIds Json?
  excludeCategories Json?

  // Recompensas
  rewards Json // Estrutura de recompensas

  // Agendamento
  schedule  Json // Configura√ß√£o de agenda
  startDate DateTime
  endDate   DateTime

  // Limita√ß√µes
  usageLimit            Int?
  usageLimitPerCustomer Int?
  usedCount             Int  @default(0)

  // Combina√ß√£o
  canCombineWithOthers Boolean @default(false)
  excludePromotionIds  Json?
  priority             Int     @default(0)

  // C√≥digo
  code      String? @unique
  autoApply Boolean @default(false)

  // Estados
  isActive Boolean @default(true)
  isDraft  Boolean @default(false)

  // Analytics
  analytics Json?

  // Metadados
  createdBy      String
  lastModifiedBy String?
  approvedBy     String?
  approvedAt     DateTime?
  tags           Json?
  notes          String?   @db.Text

  // Configura√ß√µes avan√ßadas
  customLogic String? @db.Text
  webhookUrl  String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([code])
  @@index([startDate])
  @@index([endDate])
  @@index([isActive])
  @@map("promotions")
}

// Cupons
model Coupon {
  id            String   @id @default(uuid())
  code          String   @unique
  description   String
  discountType  String // PERCENTAGE, FIXED
  discountValue Decimal  @db.Decimal(10, 2)
  minValue      Decimal? @db.Decimal(10, 2)
  maxDiscount   Decimal? @db.Decimal(10, 2)
  expiresAt     DateTime
  usageLimit    Int?
  usedCount     Int      @default(0)
  isActive      Boolean  @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // ‚úÖ ETAPA 3.2: Rela√ß√£o com hist√≥rico de uso
  usageHistory CouponUsage[]

  @@index([code])
  @@index([expiresAt])
  @@index([isActive])
  @@map("coupons")
}

// ‚úÖ ETAPA 3.2: Hist√≥rico de Uso de Cupons
model CouponUsage {
  id          String   @id @default(uuid())
  couponId    String
  customerId  String?  // Pode ser null para pedidos de convidados
  orderId     String
  discountAmount Decimal @db.Decimal(10, 2)
  orderValue  Decimal  @db.Decimal(10, 2)

  createdAt   DateTime @default(now())

  // Relations
  coupon      Coupon   @relation(fields: [couponId], references: [id], onDelete: Cascade)

  @@index([couponId])
  @@index([customerId])
  @@index([orderId])
  @@index([createdAt])
  @@map("coupon_usage")
}

// Favoritos
model Favorite {
  id         String @id @default(uuid())
  customerId String
  productId  String

  createdAt DateTime @default(now())

  // Relations
  customer Customer @relation(fields: [customerId], references: [id], onDelete: Cascade)

  @@unique([customerId, productId])
  @@index([customerId])
  @@index([productId])
  @@map("favorites")
}

// ============================================================================
// MODELS - FASE 4: REVIS√ïES VEICULARES
// ============================================================================

enum RevisionStatus {
  DRAFT
  IN_PROGRESS
  COMPLETED
  CANCELLED
}

enum ChecklistItemStatus {
  NOT_CHECKED
  OK
  ATTENTION
  CRITICAL
  NOT_APPLICABLE
}

// Ve√≠culos dos Clientes (para Revis√µes)
model CustomerVehicle {
  id            String  @id @default(uuid())
  customerId    String
  brand         String
  model         String
  year          Int
  plate         String  @unique
  chassisNumber String?
  color         String?
  mileage       Int?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  customer  Customer   @relation(fields: [customerId], references: [id], onDelete: Cascade)
  revisions Revision[]

  @@index([customerId])
  @@index([plate])
  @@map("customer_vehicles")
}

// Categorias do Checklist
model ChecklistCategory {
  id          String  @id @default(uuid())
  name        String
  description String?
  icon        String?
  isDefault   Boolean @default(false)
  isEnabled   Boolean @default(true)
  order       Int

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  items ChecklistItem[]

  @@index([order])
  @@map("checklist_categories")
}

// Itens do Checklist
model ChecklistItem {
  id          String  @id @default(uuid())
  categoryId  String
  name        String
  description String?
  isDefault   Boolean @default(false)
  isEnabled   Boolean @default(true)
  order       Int

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  category ChecklistCategory @relation(fields: [categoryId], references: [id], onDelete: Cascade)

  @@index([categoryId])
  @@index([order])
  @@map("checklist_items")
}

// Revis√µes
model Revision {
  id              String         @id @default(uuid())
  customerId      String
  vehicleId       String
  date            DateTime
  mileage         Int?
  status          RevisionStatus @default(DRAFT)
  checklistItems  Json // Array de itens verificados
  generalNotes    String?        @db.Text
  recommendations String?        @db.Text

  // Mec√¢nico respons√°vel
  assignedMechanicId String?
  mechanicName       String? // Cache do nome para performance
  mechanicNotes      String?  @db.Text
  assignedAt         DateTime?
  transferHistory    Json? // Array de hist√≥rico de transfer√™ncias

  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  completedAt DateTime?

  // Relations
  customer         Customer        @relation(fields: [customerId], references: [id])
  vehicle          CustomerVehicle @relation(fields: [vehicleId], references: [id], onDelete: Cascade)
  assignedMechanic Admin?          @relation(fields: [assignedMechanicId], references: [id])

  @@index([customerId])
  @@index([vehicleId])
  @@index([status])
  @@index([date])
  @@index([assignedMechanicId])
  @@map("revisions")
}

// Notifica√ß√µes
model Notification {
  id            String                    @id @default(uuid())
  recipientType NotificationRecipientType
  recipientId   String // ID do Admin ou Customer
  type          NotificationType
  title         String
  message       String                    @db.Text
  data          Json? // Dados contextuais (orderId, quoteId, etc)
  read          Boolean                   @default(false)
  readAt        DateTime?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([recipientId, recipientType, read])
  @@index([createdAt])
  @@map("notifications")
}

// ============================================================================
// MODELS - FASE 5: SUPORTE E FAQ
// ============================================================================

// Tickets de Suporte
model SupportTicket {
  id          String         @id @default(uuid())
  customerId  String
  subject     String
  category    TicketCategory
  priority    TicketPriority @default(MEDIUM)
  status      TicketStatus   @default(OPEN)

  // Contexto
  orderId     String?
  productId   String?
  revisionId  String?

  // Atendimento
  assignedToId String?
  assignedAt   DateTime?

  // Timestamps
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt
  resolvedAt   DateTime?
  closedAt     DateTime?

  // Avalia√ß√£o (ap√≥s fechamento)
  rating       Int?
  feedback     String?       @db.Text

  // Relations
  customer     Customer      @relation(fields: [customerId], references: [id])
  assignedTo   Admin?        @relation(fields: [assignedToId], references: [id])
  messages     TicketMessage[]

  @@index([customerId])
  @@index([status])
  @@index([priority])
  @@index([category])
  @@index([assignedToId])
  @@index([createdAt])
  @@map("support_tickets")
}

// Mensagens do Ticket
model TicketMessage {
  id         String   @id @default(uuid())
  ticketId   String
  senderId   String
  senderType String
  message    String   @db.Text

  // Anexos
  attachments Json?

  // Sistema
  isInternal Boolean  @default(false)

  createdAt  DateTime @default(now())

  // Relations
  ticket     SupportTicket @relation(fields: [ticketId], references: [id], onDelete: Cascade)

  @@index([ticketId])
  @@index([createdAt])
  @@map("ticket_messages")
}

// Categorias FAQ
model FAQCategory {
  id          String    @id @default(uuid())
  name        String    @unique
  description String?
  icon        String?
  order       Int
  isActive    Boolean   @default(true)

  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  items       FAQItem[]

  @@index([order])
  @@map("faq_categories")
}

// Itens FAQ
model FAQItem {
  id          String      @id @default(uuid())
  categoryId  String
  question    String
  answer      String      @db.Text
  order       Int
  views       Int         @default(0)
  helpfulYes  Int         @default(0)
  helpfulNo   Int         @default(0)
  isActive    Boolean     @default(true)

  // SEO
  keywords    Json?

  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt

  category    FAQCategory @relation(fields: [categoryId], references: [id], onDelete: Cascade)

  @@index([categoryId])
  @@index([order])
  @@map("faq_items")
}

// ============================================================================
// MODELS - CMS (Content Management System)
// ============================================================================

// Configura√ß√µes da Loja
model StoreSettings {
  id        String @id @default(uuid())

  // Informa√ß√µes da Loja
  storeName String @default("Moria Pe√ßas & Servi√ßos")
  cnpj      String @default("12.345.678/0001-90")
  phone     String @default("(11) 99999-9999")
  email     String @default("contato@moriapecas.com.br")
  address   String @default("Rua das Oficinas, 123")
  city      String @default("S√£o Paulo")
  state     String @default("SP") @db.Char(2)
  zipCode   String @default("01234567") @db.Char(8)

  // Configura√ß√µes de Vendas
  defaultMargin      Decimal @default(35) @db.Decimal(5, 2)
  freeShippingMin    Decimal @default(150) @db.Decimal(10, 2)
  deliveryFee        Decimal @default(15.90) @db.Decimal(10, 2)
  deliveryDays       Int     @default(3)

  // Hor√°rios de Funcionamento (JSON)
  // Formato: { "weekdays": "8h-18h", "saturday": "8h-12h", "sunday": "Fechado" }
  businessHours Json @default("{\"weekdays\": \"Segunda a Sexta: 8h √†s 18h\", \"saturday\": \"S√°bado: 8h √†s 12h\", \"sunday\": \"Domingo: Fechado\"}")

  // Notifica√ß√µes
  notifyNewOrders     Boolean @default(true)
  notifyLowStock      Boolean @default(true)
  notifyWeeklyReports Boolean @default(false)

  // Integra√ß√µes
  whatsappApiKey      String?
  whatsappConnected   Boolean @default(false)
  correiosApiKey      String?
  correiosConnected   Boolean @default(false)
  paymentGatewayKey   String?
  paymentConnected    Boolean @default(false)
  googleAnalyticsId   String?
  analyticsConnected  Boolean @default(false)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("store_settings")
}

// Se√ß√£o Hero da Landing Page
model HeroSection {
  id       String @id @default(uuid())

  // Conte√∫do
  title    String @default("MORIA Pe√ßas & Servi√ßos")
  subtitle String @default("Especialistas em pe√ßas automotivas e servi√ßos de qualidade h√° mais de 15 anos. Encontre tudo o que voc√™ precisa para manter seu ve√≠culo em perfeito estado com garantia e atendimento especializado.") @db.Text
  imageUrl String @default("/assets/hero-garage.jpg")

  // Features (badges)
  // Array de objetos: [{ "icon": "Shield", "text": "Qualidade Garantida" }, ...]
  features Json @default("[{\"icon\": \"Shield\", \"text\": \"Qualidade Garantida\"}, {\"icon\": \"Truck\", \"text\": \"Entrega R√°pida\"}, {\"icon\": \"Wrench\", \"text\": \"Servi√ßos Especializados\"}, {\"icon\": \"Award\", \"text\": \"15+ Anos no Mercado\"}]")

  // CTAs (Call-to-Actions)
  cta1Text    String  @default("Ver Produtos")
  cta1Link    String  @default("#products")
  cta1Enabled Boolean @default(true)

  cta2Text    String  @default("Nossos Servi√ßos")
  cta2Link    String  @default("#services")
  cta2Enabled Boolean @default(true)

  cta3Text    String  @default("Fale Conosco")
  cta3Link    String  @default("https://wa.me/5511999999999")
  cta3Enabled Boolean @default(true)

  // Status
  active Boolean @default(true)

  updatedAt DateTime @updatedAt

  @@map("hero_section")
}

// Mensagens do Marquee (faixa animada)
model MarqueeMessage {
  id      String @id @default(uuid())
  message String // Ex: "üîß PE√áAS ORIGINAIS COM AT√â 30% DE DESCONTO"
  order   Int    // Ordem de exibi√ß√£o
  active  Boolean @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([order])
  @@index([active])
  @@map("marquee_messages")
}

// Conte√∫do do Footer
model FooterContent {
  id String @id @default(uuid())

  // Descri√ß√£o da empresa
  description String @default("A Moria Pe√ßas & Servi√ßos √© refer√™ncia em pe√ßas automotivas e servi√ßos especializados. Atendemos com excel√™ncia h√° mais de 15 anos.") @db.Text

  // Lista de servi√ßos principais (JSON array)
  // Ex: ["Manuten√ß√£o Preventiva", "Troca de √ìleo", ...]
  services Json @default("[\"Manuten√ß√£o Preventiva\", \"Troca de √ìleo e Filtros\", \"Revis√£o Completa\", \"Freios e Suspens√£o\", \"Ar Condicionado\", \"Diagn√≥stico Eletr√¥nico\"]")

  // Links de redes sociais (JSON object)
  // Ex: { "facebook": "url", "instagram": "url", "whatsapp": "5511999999999" }
  socialLinks Json @default("{\"facebook\": \"\", \"instagram\": \"\", \"whatsapp\": \"5511999999999\", \"youtube\": \"\"}")

  // Certifica√ß√µes e garantias (JSON array)
  // Ex: ["Pe√ßas Originais", "Garantia de 90 dias", ...]
  certifications Json @default("[\"Pe√ßas Originais\", \"Garantia de 90 dias\", \"Atendimento Especializado\", \"Or√ßamento Gratuito\"]")

  // Links do footer (JSON object)
  // Ex: { "privacy": "/politica-privacidade", "terms": "/termos-uso" }
  footerLinks Json @default("{\"privacy\": \"#\", \"terms\": \"#\", \"warranty\": \"#\"}")

  updatedAt DateTime @updatedAt

  @@map("footer_content")
}
